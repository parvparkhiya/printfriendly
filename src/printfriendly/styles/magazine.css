/* ==========================================================================
   PrintFriendly Magazine Style
   Full editorial design with sophisticated typography and layout
   ========================================================================== */

@import url('./_base.css');

/* --------------------------------------------------------------------------
   Article Header
   -------------------------------------------------------------------------- */
.article-header {
    margin-bottom: 2em;
    text-align: left;
}

/* Kicker (Category/Topic) */
.kicker {
    font-family: 'Inter', sans-serif;
    font-size: var(--font-size-kicker);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-accent);
    margin-bottom: 0.75em;
    display: block;
}

/* Main Headline */
.headline {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: var(--font-size-headline);
    font-weight: 700;
    line-height: var(--line-height-headline);
    color: var(--color-headline);
    margin-bottom: 0.5em;
    text-align: left;
    letter-spacing: -0.02em;
}

/* Deck / Standfirst */
.deck {
    font-family: 'Source Serif 4', Georgia, serif;
    font-size: var(--font-size-deck);
    font-style: italic;
    font-weight: 300;
    line-height: var(--line-height-deck);
    color: var(--color-body);
    margin-bottom: 1.5em;
    max-width: 90%;
}

/* Byline */
.byline {
    font-family: 'Inter', sans-serif;
    font-size: var(--font-size-byline);
    color: var(--color-caption);
    margin-bottom: 1em;
}

.byline .author {
    font-weight: 500;
    color: var(--color-body);
}

.byline .separator {
    color: var(--color-divider);
    margin: 0 0.3em;
}

/* --------------------------------------------------------------------------
   Drop Cap - Using initial-letter for WeasyPrint compatibility
   -------------------------------------------------------------------------- */
.drop-cap::first-letter {
    initial-letter: 3;
    font-family: 'Playfair Display', Georgia, serif;
    color: var(--color-headline);
    font-weight: 700;
    margin-right: 0.1em;
}

/* --------------------------------------------------------------------------
   Article Body
   -------------------------------------------------------------------------- */
.article-body {
    line-height: var(--line-height-body);
}

.article-body p {
    margin-bottom: 1em;
    text-align: justify;
    hyphens: auto;
}

/* Links - preserve and style them nicely */
.article-body a {
    color: var(--color-accent-alt);
    text-decoration: underline;
    text-decoration-color: rgba(52, 152, 219, 0.4);
    text-underline-offset: 2px;
}

/* --------------------------------------------------------------------------
   Section Headings
   -------------------------------------------------------------------------- */
.section-heading {
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    color: var(--color-headline);
    margin-top: 1.8em;
    margin-bottom: 0.8em;
    break-after: avoid;
    page-break-after: avoid;
}

h1.section-heading { font-size: 20pt; }
h2.section-heading {
    font-size: 16pt;
    border-bottom: 2px solid var(--color-divider);
    padding-bottom: 0.3em;
}
h3.section-heading { font-size: 13pt; }
h4.section-heading,
h5.section-heading,
h6.section-heading {
    font-size: 11pt;
    font-style: italic;
}

/* --------------------------------------------------------------------------
   Pull Quotes - Elegant sidebar callouts
   -------------------------------------------------------------------------- */
.pull-quote {
    margin: 1.5em 0;
    padding: 1.2em 1.5em;
    border-left: 4px solid var(--color-accent);
    background: linear-gradient(to right, rgba(231, 76, 60, 0.05), transparent);
    break-inside: avoid;
    page-break-inside: avoid;
}

.pull-quote blockquote {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: 14pt;
    font-style: italic;
    line-height: 1.4;
    color: var(--color-headline);
    border: none;
    padding: 0;
    margin: 0;
}

/* --------------------------------------------------------------------------
   Images & Figures - Magazine-style placement

   WeasyPrint has issues with floats on figures, so we use a cleaner approach:
   - Hero images: full width
   - Inset images: displayed as elegant blocks with styling
   - Full-width: visual breaks in content
   -------------------------------------------------------------------------- */

/* Base figure styling */
.figure {
    break-inside: avoid;
    page-break-inside: avoid;
    margin: 1.5em 0;
}

.figure img {
    display: block;
    height: auto;
}

.figure figcaption {
    font-family: 'Inter', sans-serif;
    font-size: 8pt;
    font-style: italic;
    color: var(--color-caption);
    margin-top: 0.5em;
    line-height: 1.3;
    text-align: left;
}

/* Hero Image - Full Width at top */
.figure.hero {
    width: 100%;
    margin: 0 0 2em 0;
}

.figure.hero img {
    width: 100%;
}

/* Inset Right - Styled block, indented from right */
.figure.inset-right {
    width: 55%;
    margin-left: auto;
    margin-right: 0;
    padding-left: 1em;
    border-left: 3px solid var(--color-divider);
}

.figure.inset-right img {
    width: 100%;
}

/* Inset Left - Styled block, indented from left */
.figure.inset-left {
    width: 55%;
    margin-left: 0;
    margin-right: auto;
    padding-right: 1em;
    border-right: 3px solid var(--color-divider);
}

.figure.inset-left img {
    width: 100%;
}

/* Full Width - Visual break */
.figure.full-width {
    width: 100%;
    margin: 2em 0;
    padding: 0.5em 0;
    border-top: 1px solid var(--color-divider);
    border-bottom: 1px solid var(--color-divider);
}

.figure.full-width img {
    width: 100%;
}

/* --------------------------------------------------------------------------
   Lists
   -------------------------------------------------------------------------- */
.article-body ul,
.article-body ol {
    margin: 1em 0 1em 1.5em;
    padding: 0;
}

.article-body li {
    margin-bottom: 0.5em;
    text-align: left;
}

/* --------------------------------------------------------------------------
   Blockquotes (regular quotes in content)
   -------------------------------------------------------------------------- */
.article-body > blockquote,
.article-body blockquote:not(.pull-quote blockquote) {
    margin: 1em 0 1em 1.5em;
    padding-left: 1em;
    border-left: 3px solid var(--color-divider);
    font-style: italic;
    color: #444;
}

/* --------------------------------------------------------------------------
   Code blocks
   -------------------------------------------------------------------------- */
.article-body pre {
    background: #f5f5f5;
    padding: 1em;
    margin: 1em 0;
    overflow-x: auto;
    font-size: 9pt;
    line-height: 1.4;
    border-radius: 4px;
}

.article-body code {
    font-family: 'SF Mono', Consolas, monospace;
    font-size: 0.9em;
    background: #f5f5f5;
    padding: 0.1em 0.3em;
    border-radius: 2px;
}

/* --------------------------------------------------------------------------
   Running Header/Footer
   -------------------------------------------------------------------------- */
.source-name {
    string-set: source-name content();
    display: none;
}

/* --------------------------------------------------------------------------
   Article Footer
   -------------------------------------------------------------------------- */
.article-footer {
    margin-top: 3em;
    padding-top: 1.5em;
    border-top: 1px solid var(--color-divider);
    font-family: 'Inter', sans-serif;
    font-size: 9pt;
    color: var(--color-caption);
}

.article-footer .source-link {
    color: var(--color-accent-alt);
}

/* --------------------------------------------------------------------------
   Print Adjustments
   -------------------------------------------------------------------------- */
@media print {
    body {
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
    }

    .article-header {
        break-inside: avoid;
        page-break-inside: avoid;
    }

    .section-heading {
        break-after: avoid;
        page-break-after: avoid;
    }

    img {
        max-height: 65vh;
        object-fit: contain;
    }
}
